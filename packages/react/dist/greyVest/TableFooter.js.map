{"version":3,"sources":["../../src/greyVest/TableFooter.js"],"names":["PageDetails","startRecord","endRecord","totalRecords","hasMore","flex","textAlign","F","isNotNil","TableFooter","page","onChangePage","pageSize","onChangePageSize","pageSizeOptions","props","_","min","pageCount","ceil","padding","margin","paddingLeft","paddingRight"],"mappings":"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","sourcesContent":["import React from 'react'\nimport _ from 'lodash/fp'\nimport F from 'futil'\nimport Pager from './Pager'\nimport PagerItem from './PagerItem'\nimport PageSize from './PageSize'\nimport Flex from './Flex'\nimport { toNumber } from '../utils/format'\n\nlet PageDetails = ({ startRecord, endRecord, totalRecords, hasMore }) => (\n  <span style={{ flex: '0 1 30%', textAlign: 'right' }}>\n    <b>Showing </b>\n    {startRecord >= endRecord\n      ? endRecord\n      : `${toNumber(startRecord)}-${toNumber(endRecord)}`}\n    {F.isNotNil(totalRecords) &&\n      ` of ${toNumber(totalRecords)}${hasMore ? '+' : ''}`}\n  </span>\n)\n\n// Requires either `totalRecords` or `hasMore` to do pagination properly.\n// `hasMore` is a flag signifying that there is at least one page of records\n// after the current one; it allows us to support some pagination functionality\n// even when `totalRecords` is not given (eg. for APIs that return paginated\n// results without a total count).\nlet TableFooter = ({\n  page = 1,\n  onChangePage,\n  pageSize,\n  onChangePageSize,\n  pageSizeOptions,\n  hasMore,\n  totalRecords,\n  startRecord = pageSize * (page - 1) + 1,\n  endRecord = hasMore ? page * pageSize : 0,\n  ...props\n}) => {\n  // if endRecord isn't given, approximate it from totalRecords\n  if (totalRecords)\n    endRecord = endRecord || _.min([page * pageSize, totalRecords])\n  if (!hasMore && !totalRecords) totalRecords = endRecord\n  let pageCount = _.ceil((totalRecords || endRecord) / pageSize)\n  return (\n    <Flex\n      justifyContent=\"space-between\"\n      alignItems=\"center\"\n      style={{ padding: '3px 8px' }}\n      {...props}\n    >\n      <PageSize\n        sizeOptions={pageSizeOptions}\n        value={pageSize}\n        onChange={onChangePageSize}\n        style={{ flex: '0 1 30%' }}\n      />\n      <Flex style={{ flex: 1 }} alignItems=\"center\" justifyContent=\"center\">\n        <Pager value={page} onChange={onChangePage} pageCount={pageCount} />\n        {hasMore && page >= pageCount && (\n          <PagerItem\n            style={{ margin: '0 8px', paddingLeft: 12, paddingRight: 12 }}\n            onClick={() => onChangePage(page + 1)}\n          >\n            Load More...\n          </PagerItem>\n        )}\n      </Flex>\n      <PageDetails {...{ totalRecords, startRecord, endRecord, hasMore }} />\n    </Flex>\n  )\n}\n\nexport default TableFooter\n"],"file":"TableFooter.js"}